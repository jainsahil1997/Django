$(document).ready(function(){function a(){var a=$("input.input-xxlarge").val();return $("b#search-string").html(a),""!=a&&$.ajax({type:"GET",url:"/search?query="+a,cache:!1,success:function(b){html=b;var c=0;$(".result").remove();for(var d in html){c++,$("#results").append('<li class="result"><a target="_blank" href="/'+html[d].course+'"><span class="fileTitle">'+html[d].title+'</span><div class="course">'+html[d].course+"</div></a></li>");var e=$($(".result")[d]).find(".fileTitle").html().replace(new RegExp(a,"i"),"<b>"+a+"</b>");if($($(".result")[d]).find(".fileTitle").html(e),c>10){$("#results").append('<li class="result"><a target="_blank" href="/search?query='+a+'">View more results</a></li>');break}}},error:function(a){return console.log("XHR ERROR "+a.status),JSON.parse(a.responseText)}}),!1}$("div.icon").click(function(){$("input#search").focus()}),$("input.input-xxlarge").live("keyup",function(){clearTimeout($.data(this,"timer"));var b=$(this).val();""==b?($("ul#results").fadeOut(),$("#results-text").fadeOut()):($("ul#results").fadeIn(),$("#results-text").fadeIn(),$(this).data("timer",setTimeout(a,100)))})});
